-- MySQL Script generated by MySQL Workbench
-- Sun Sep 25 20:30:21 2022
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`user`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`user` (
  `username` VARCHAR(16) NOT NULL,
  `email` VARCHAR(255) NOT NULL,
  `password` VARCHAR(32) NOT NULL,
  `create_time` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  UNIQUE  `username_UNIQUE` (`username`),
  UNIQUE  `email_UNIQUE` (`email` ) );


-- -----------------------------------------------------
-- Table `mydb`.`client`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`client` (
  `idclient` VARCHAR(15) NOT NULL,
  `client_email` VARCHAR(45) NOT NULL,
  `direction` VARCHAR(45) NOT NULL,
  `full_name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idclient`),
  UNIQUE INDEX `client_email_UNIQUE` (`client_email` ) )
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`service`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`service` (
  `idservices` VARCHAR(45) NOT NULL,
  `name_service` VARCHAR(45) NULL,
  `client_idclient` VARCHAR(15) NOT NULL,
  PRIMARY KEY (`idservices`),
  INDEX `fk_service_client1_idx` (`client_idclient` ) ,
  CONSTRAINT `fk_service_client1`
    FOREIGN KEY (`client_idclient`)
    REFERENCES `mydb`.`client` (`idclient`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`petition`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`petition` (
  `idpettion` int(10) unsigned ZEROFILL NOT NULL AUTO_INCREMENT,
  `description` VARCHAR(500) NOT NULL,
  `state` VARCHAR(45) NOT NULL,
  `create_time` TIMESTAMP NOT NULL,
  `client_idclient` VARCHAR(15) NOT NULL,
  `plataform` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idpettion`, `client_idclient`),
  INDEX `fk_petition_client1_idx` (`client_idclient` ) ,
  CONSTRAINT `fk_petition_client1`
    FOREIGN KEY (`client_idclient`)
    REFERENCES `mydb`.`client` (`idclient`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`type_service`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`type_service` (
  `idtype_service` VARCHAR(45) NOT NULL,
  `service_type` VARCHAR(45) NULL,
  `service_idservices` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idtype_service`),
  INDEX `fk_type_service_service1_idx` (`service_idservices` ) ,
  CONSTRAINT `fk_type_service_service1`
    FOREIGN KEY (`service_idservices`)
    REFERENCES `mydb`.`service` (`idservices`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT INTO `user` (`username`, `email`, `password`, `create_time`) VALUES ('santiagoL22', 'santiagol22@gmail.com', '012345678', current_timestamp());
INSERT INTO `user` (`username`, `email`, `password`, `create_time`) VALUES ('Andres_zapata', 'andreszapata05@gmail.com', 'abc12345', current_timestamp());
INSERT INTO `user` (`username`, `email`, `password`, `create_time`) VALUES ('JhonA', 'jhonandresK@hotmail.com', 'asdfghj123', '2022-10-05 13:13:30');


INSERT INTO `client` (`idclient`, `client_email`, `direction`, `full_name`) VALUES ('1035442163', 'Andresfelipe82@gmail.com', 'carrera 72 #108-42', 'Andrés Felipe Echeverry M');
INSERT INTO `client` (`idclient`, `client_email`, `direction`, `full_name`) VALUES ('428695342', 'carlososoriom@gmail.com', 'calle 10 #54-24', 'Carlos Mario Osorio');
INSERT INTO `client` (`idclient`, `client_email`, `direction`, `full_name`) VALUES ('10352758429', 'RubendiazL@hotmail.com', 'calle 41-b  #94-11', 'Rubén Aguirre Diaz lozano');
INSERT INTO `client` (`idclient`, `client_email`, `direction`, `full_name`) VALUES ('1000440592', 'carolinasoto20@hotmail.com', 'carrera 33-A #72-65', 'Carolina Soto Pérez');

INSERT INTO `petition` (`description`, `state`, `create_time`, `client_idclient`, `plataform`) VALUES ('Petición de solución de errores', 'en espera', '2022-10-05 13:50:20', '428695342', 'web');
INSERT INTO `petition` ( `description`, `state`, `create_time`, `client_idclient`, `plataform`) VALUES ('Petición de cancelación de servicio', 'en proceso', '2022-10-05 13:50:31', '1035442163', 'email');
INSERT INTO `petition` (`description`, `state`, `create_time`, `client_idclient`, `plataform`) VALUES ('cancelación de servicio', 'aceptado', current_timestamp(), '1000440592', 'web');
INSERT INTO `petition` (`description`, `state`, `create_time`, `client_idclient`, `plataform`) VALUES ('solución de problemas', 'en proceso', current_timestamp(), '10352758429', 'email');

INSERT INTO `service` (`idservices`, `name_service`, `client_idclient`) VALUES ('42361', 'Duo play', '1035442163');
INSERT INTO `service` (`idservices`, `name_service`, `client_idclient`) VALUES ('2b4312', 'Duo play', '1000440592');
INSERT INTO `service` (`idservices`, `name_service`, `client_idclient`) VALUES ('2f51', 'Triple play', '10352758429');
INSERT INTO `service` (`idservices`, `name_service`, `client_idclient`) VALUES ('824f32', 'Triple play', '428695342');

INSERT INTO `type_service` (`idtype_service`, `service_type`, `service_idservices`) VALUES ('14a01', 'internet', '2b4312');
INSERT INTO `type_service` (`idtype_service`, `service_type`, `service_idservices`) VALUES ('17k42', 'telefonia', '2f51');
INSERT INTO `type_service` (`idtype_service`, `service_type`, `service_idservices`) VALUES ('24a36', 'tv', '824f32');
INSERT INTO `type_service` (`idtype_service`, `service_type`, `service_idservices`) VALUES ('39a17', 'internet', '42361');

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;





